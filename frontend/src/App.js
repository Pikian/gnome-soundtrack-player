import React, { useState, useEffect } from 'react';































import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';































import TrackList from './components/TrackList';































import TrackPlayer from './components/TrackPlayer';































import Login from './components/Login';































import Error404 from './components/Error404'; // Add this import































import './App.css';































































function App() {































  const [currentTrack, setCurrentTrack] = useState(null);































































  const [isAuthenticated, setIsAuthenticated] = useState(false);































































  useEffect(() => {







    const auth = localStorage.getItem('isAuthenticated');







    if (auth === 'true') {







      setIsAuthenticated(true);







    }







  }, []);































































  if (!isAuthenticated) {







    return <Login onLogin={() => setIsAuthenticated(true)} />;







  }































































  return (































    <Router>































      <div className="App">































        <div className="content">































          <Routes>































            <Route path="/" element={<TrackList onPlayTrack={setCurrentTrack} currentTrack={currentTrack} />} />































            <Route path="/play/:filename" element={<TrackPlayer />} />































            <Route path="*" element={<Error404 />} />































          </Routes>































        </div>































        {currentTrack && (































          <div className="player-container">































            <div className="now-playing">































              <h3>{currentTrack.name}</h3>































            </div>































            <TrackPlayer filename={currentTrack.filename} />































          </div>































        )}































      </div>































    </Router>































  );































}































































export default App;














































































